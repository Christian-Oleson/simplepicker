var SimplePicker;(()=>{"use strict";var e={155(e,t,i){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var r={years:{}},a=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function o(e,t){e=[].concat(e);for(var i=0;i<t;i++)e[i]=void 0;return e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=new Date(e.getTime()),n=e.getFullYear(),a=e.getMonth(),s={date:i,month:void 0};if(t.current=new Date(e.getTime()),t.current.setDate(1),t.years[n]=t.years[n]||{},void 0!==t.years[n][a])return s.month=t.years[n][a],s;(e=new Date(e.getTime())).setDate(1),t.years[n][a]=[];for(var l=t.years[n][a],c=0;e.getMonth()===a;){var d=e.getDate(),p=e.getDay();1===d&&(l[c]=o([],p)),l[c]=l[c]||[],l[c][p]=d,6===p&&c++,e.setDate(e.getDate()+1)}var u=5;void 0===l[5]&&(u=4,l[5]=o([],7)),void 0===l[4]&&(u=3,l[4]=o([],7));var h=l[u].length;if(h<7){var m=l[u].concat(o([],7-h));l[u]=m}return s.month=l,s}var c=[1,21,31],d=[2,22],p=[3,23];function u(e){var t=e.getDate();return -1!==c.indexOf(t)?t+"st":-1!==d.indexOf(t)?t+"nd":-1!==p.indexOf(t)?t+"rd":t+"th"}function h(e){var t,i="",r=(t=e.split(":"),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i,n,r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(a.push(i.value),2!==a.length);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],s=r[1],o=(a*=1)>=12;return o&&a>12&&(a-=12),o||0!==a||(a=12),i+=a<10?"0"+a:a,i+=":"+s+" ",i+=o?"PM":"AM"}var m='\n<div class="simplepicker-wrapper">\n  <div class="simplepicker-date-picker">\n    <div class="simplepicker-day-header"></div>\n      <div class="simplepicker-date-section">\n        <div class="simplepicker-month-and-year"></div>\n        <div class="simplepicker-date"></div>\n        <div class="simplepicker-select-pane">\n          <button type="button" class="simplepicker-icon simplepicker-icon-calender active" title="Select date from calender!"></button>\n          <div class="simplepicker-time">12:00 PM</div>\n          <button type="button" class="simplepicker-icon simplepicker-icon-time" title="Select time"></button>\n        </div>\n      </div>\n      <div class="simplepicker-picker-section">\n        <div class="simplepicker-calender-section">\n          <div class="simplepicker-month-switcher simplepicker-select-pane">\n            <button type="button" class="simplepicker-icon simplepicker-icon-previous"></button>\n            <div class="simplepicker-selected-date"></div>\n            <button type="button" class="simplepicker-icon simplepicker-icon-next"></button>\n          </div>\n          <div class="simplepicker-calender">\n            <table>\n              <thead>\n                <tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th></tr>\n              </thead>\n              <tbody>\n                '.concat(function(e,t){for(var i="",n=1;n<=6;n++)i+=e;return i}("<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",0),'\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div class="simplepicker-time-section">\n          <input type="time" value="12:00" autofocus="false">\n        </div>\n      </div>\n      <div class="simplepicker-bottom-part">\n        <button type="button" class="simplepicker-cancel-btn simplepicker-btn" title="Cancel">Cancel</button>\n        <button type="button" class="simplepicker-ok-btn simplepicker-btn" title="OK">OK</button>\n      </div>\n  </div>\n</div>\n');function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}e=i.hmd(e);function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i,n,r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=["submit","close"],b=function(){var e;function t(e,i){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");y(this,"selectedDate",void 0),y(this,"$simplePicker",void 0),y(this,"readableDate",void 0),y(this,"_eventHandlers",void 0),y(this,"_validOnListeners",k),y(this,"opts",void 0),y(this,"$",void 0),y(this,"$$",void 0),y(this,"$simplepicker",void 0),y(this,"$simplepickerWrapper",void 0),y(this,"$trs",void 0),y(this,"$tds",void 0),y(this,"$headerMonthAndYear",void 0),y(this,"$monthAndYear",void 0),y(this,"$date",void 0),y(this,"$day",void 0),y(this,"$time",void 0),y(this,"$timeInput",void 0),y(this,"$timeSectionIcon",void 0),y(this,"$cancel",void 0),y(this,"$ok",void 0),y(this,"$displayDateElements",void 0),y(this,"monthTracker",void 0);var n,r=void 0,a=i;if("string"==typeof e){var s=document.querySelector(e);if(null!==s)r=s;else throw Error("Invalid selector passed to SimplePicker!")}else(null!=(n=HTMLElement)&&"u">typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n)?r=e:(void 0===e?"undefined":e&&"u">typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"&&(a=e);r||(r=document.querySelector("body")),a||(a={}),this.selectedDate=new Date,this.monthTracker={years:{}},this.injectTemplate(r),this.init(r,a),this.initListeners(),this._eventHandlers={}}return e=[{key:"initElMethod",value:function(e){this.$=function(t){return e.querySelector(t)},this.$$=function(t){return e.querySelectorAll(t)}}},{key:"init",value:function(e,t){this.$simplepickerWrapper=e.querySelector(".simplepicker-wrapper"),this.initElMethod(this.$simplepickerWrapper);var i=this.$,n=this.$$;this.$simplepicker=i(".simplepicker-date-picker"),this.$trs=n(".simplepicker-calender tbody tr"),this.$tds=n(".simplepicker-calender tbody td"),this.$headerMonthAndYear=i(".simplepicker-month-and-year"),this.$monthAndYear=i(".simplepicker-selected-date"),this.$date=i(".simplepicker-date"),this.$day=i(".simplepicker-day-header"),this.$time=i(".simplepicker-time"),this.$timeInput=i(".simplepicker-time-section input"),this.$timeSectionIcon=i(".simplepicker-icon-time"),this.$cancel=i(".simplepicker-cancel-btn"),this.$ok=i(".simplepicker-ok-btn"),this.$displayDateElements=[this.$day,this.$headerMonthAndYear,this.$date],this.$time.classList.add("simplepicker-fade");var r=new Date;this.render(l(r,this.monthTracker)),t=t||{},this.opts=t,this.reset(t.selectedDate||r),void 0!==t.zIndex&&(this.$simplepickerWrapper.style.zIndex=t.zIndex.toString()),t.disableTimeSection&&this.disableTimeSection(),t.compactMode&&this.compactMode()}},{key:"reset",value:function(e){var t=e||new Date;this.render(l(t,this.monthTracker));var i=t.toTimeString().split(" ")[0].replace(/\:\d\d$/,"");this.$timeInput.value=i,this.$time.innerText=h(i);var n=t.getDate().toString(),r=this.findElementWithDate(n);r&&!r.classList.contains("active")&&(this.selectDateElement(r),this.updateDateComponents(t))}},{key:"compactMode",value:function(){this.$date.style.display="none"}},{key:"disableTimeSection",value:function(){this.$timeSectionIcon.style.visibility="hidden"}},{key:"enableTimeSection",value:function(){this.$timeSectionIcon.style.visibility="visible"}},{key:"injectTemplate",value:function(e){var t=document.createElement("template");t.innerHTML=m,e.appendChild(t.content.cloneNode(!0))}},{key:"clearRows",value:function(){this.$tds.forEach(function(e){e.innerHTML="",e.classList.remove("active")})}},{key:"updateDateComponents",value:function(e){var t=s[e.getDay()],i=a[e.getMonth()]+" "+e.getFullYear();this.$headerMonthAndYear.innerHTML=i,this.$monthAndYear.innerHTML=i,this.$day.innerHTML=t,this.$date.innerHTML=u(e)}},{key:"render",value:function(e){var t=this.$$,i=this.$trs,n=e.month,r=e.date;this.clearRows(),n.forEach(function(e,t){var n=i[t].children;e.forEach(function(e,t){var i=n[t];e?(i.removeAttribute("data-empty"),i.innerHTML=e):i.setAttribute("data-empty","")})});var a=t("table tbody tr:last-child td"),s=!0;a.forEach(function(e){void 0===e.dataset.empty&&(s=!1)});var o=a[0].parentElement;s&&o?o.style.display="none":o.style.display="table-row",this.updateDateComponents(r)}},{key:"updateSelectedDate",value:function(e){var t,i=this.$monthAndYear,n=this.$time;this.$date,t=e?e.innerHTML.trim():this.$date.innerHTML.replace(/[a-z]+/,"");var r=f(i.innerHTML.split(" "),2),s=r[0],o=r[1],l=a.indexOf(s),c=n.innerHTML.split(":"),d=+c[0],p=f(c[1].split(" "),2),h=p[0],m=p[1];"AM"===m&&12==d&&(d=0),"PM"===m&&d<12&&(d+=12);var v=new Date(+o,+l,+t,+d,+h);this.selectedDate=v;var y=t+" ";y+=i.innerHTML.trim()+" ",y+=n.innerHTML.trim(),this.readableDate=y.replace(/^\d+/,u(v))}},{key:"selectDateElement",value:function(e){var t=this.$(".simplepicker-calender tbody .active");e.classList.add("active"),t&&t.classList.remove("active"),this.updateSelectedDate(e),this.updateDateComponents(this.selectedDate)}},{key:"findElementWithDate",value:function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$tds.forEach(function(n){var r=n.innerHTML.trim();r===e&&(t=n),""!==r&&(i=n)}),void 0===t&&n&&(t=i),t}},{key:"handleIconButtonClick",value:function(e){var t,i=this.$,n="simplepicker-icon-",a=n+"calender",s=n+"time";if(e.classList.contains(a)){var o=i("."+s),c=i(".simplepicker-time-section");i(".simplepicker-calender-section").style.display="block",c.style.display="none",o.classList.remove("active"),e.classList.add("active"),this.toggleDisplayFade();return}if(e.classList.contains(s)){var d=i("."+a),p=i(".simplepicker-calender-section");i(".simplepicker-time-section").style.display="block",p.style.display="none",d.classList.remove("active"),e.classList.add("active"),this.toggleDisplayFade();return}var u=i(".simplepicker-calender td.active");if(u&&(t=u.innerHTML.trim()),e.classList.contains(n+"next")&&this.render(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=e.current;if(!t)throw Error("scrapeNextMonth called without setting monthTracker.current!");return t.setMonth(t.getMonth()+1),l(t,e)}(this.monthTracker)),e.classList.contains(n+"previous")&&this.render(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=e.current;if(!t)throw Error("scrapePreviousMonth called without setting monthTracker.current!");return t.setMonth(t.getMonth()-1),l(t,e)}(this.monthTracker)),t){var h=this.findElementWithDate(t,!0);this.selectDateElement(h)}}},{key:"initListeners",value:function(){var e=this.$simplepicker,t=this.$timeInput,i=this.$ok,n=this.$cancel,r=this.$simplepickerWrapper,a=this;function s(){a.close(),a.callEvent("close",function(e){e()})}e.addEventListener("click",function(e){var t=e.target,i=t.tagName.toLowerCase();(e.stopPropagation(),"td"===i&&void 0===t.dataset.empty)?a.selectDateElement(t):"button"===i&&t.classList.contains("simplepicker-icon")&&a.handleIconButtonClick(t)}),t.addEventListener("input",function(e){if(""!==e.target.value){var t=h(e.target.value);a.$time.innerHTML=t,a.updateSelectedDate()}}),i.addEventListener("click",function(){a.close(),a.callEvent("submit",function(e){e(a.selectedDate,a.readableDate)})}),n.addEventListener("click",s),r.addEventListener("click",s)}},{key:"callEvent",value:function(e,t){(this._eventHandlers[e]||[]).forEach(function(e){t(e)})}},{key:"open",value:function(){this.$simplepickerWrapper.classList.add("active")}},{key:"close",value:function(){this.$simplepickerWrapper.classList.remove("active")}},{key:"on",value:function(e,t){var i=this._validOnListeners,n=this._eventHandlers;if(!i.includes(e))throw Error("Not a valid event!");n[e]=n[e]||[],n[e].push(t)}},{key:"toggleDisplayFade",value:function(){this.$time.classList.toggle("simplepicker-fade"),this.$displayDateElements.forEach(function(e){e.classList.toggle("simplepicker-fade")})}}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}();e.exports=b},626(e,t,i){e.exports={}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,i),a.loaded=!0,a.exports}i.m=e,i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.r=e=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(626),SimplePicker=i(155)})();
//# sourceMappingURL=simplepicker.js.map