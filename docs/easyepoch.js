var SimplePicker;(()=>{"use strict";var e={380(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i={get createMonthTracker(){return l},get days(){return o},get formatTimeFromInputElement(){return f},get getDisplayDate(){return y},get monthTracker(){return a},get months(){return s},get scrapeMonth(){return d},get scrapeNextMonth(){return u},get scrapePreviousMonth(){return p}};for(var n in i)Object.defineProperty(t,n,{enumerable:!0,get:Object.getOwnPropertyDescriptor(i,n).get});function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var a={years:{}},s=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function c(e,t){e=[].concat(e);for(var i=0;i<t;i++)e[i]=void 0;return e}function l(){return{years:{}}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,i=new Date(e.getTime()),n=e.getFullYear(),r=e.getMonth(),s={date:i,month:void 0};if(t.current=new Date(e.getTime()),t.current.setDate(1),t.years[n]=t.years[n]||{},void 0!==t.years[n][r])return s.month=t.years[n][r],s;(e=new Date(e.getTime())).setDate(1),t.years[n][r]=[];for(var o=t.years[n][r],l=0;e.getMonth()===r;){var d=e.getDate(),p=e.getDay();1===d&&(o[l]=c([],p)),o[l]=o[l]||[],o[l][p]=d,6===p&&l++,e.setDate(e.getDate()+1)}var u=5;void 0===o[5]&&(u=4,o[5]=c([],7)),void 0===o[4]&&(u=3,o[4]=c([],7));var h=o[u].length;if(h<7){var m=o[u].concat(c([],7-h));o[u]=m}return s.month=o,s}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=e.current;if(!t)throw Error("scrapePreviousMonth called without setting monthTracker.current!");return t.setMonth(t.getMonth()-1),d(t,e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=e.current;if(!t)throw Error("scrapeNextMonth called without setting monthTracker.current!");return t.setMonth(t.getMonth()+1),d(t,e)}var h=[1,21,31],m=[2,22],v=[3,23];function y(e){var t=e.getDate();return -1!==h.indexOf(t)?t+"st":-1!==m.indexOf(t)?t+"nd":-1!==v.indexOf(t)?t+"rd":t+"th"}function f(e){var t,i="",n=(t=e.split(":"),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var i,n,r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(a.push(i.value),2!==a.length);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return r(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(e,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],s=n[1],o=(a*=1)>=12;return o&&a>12&&(a-=12),o||0!==a||(a=12),i+=a<10?"0"+a:a,i+=":"+s+" ",i+=o?"PM":"AM"}},431(e,t,i){var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=o(void 0);if(i&&i.has(e))return i.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,i&&i.set(e,n),n}(i(380)),r=i(437);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i,n,r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=["submit","close"];e.exports=function(){var e;function t(e,i){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");s(this,"selectedDate",void 0),s(this,"$simplePicker",void 0),s(this,"readableDate",void 0),s(this,"_eventHandlers",void 0),s(this,"_validOnListeners",l),s(this,"opts",void 0),s(this,"$",void 0),s(this,"$$",void 0),s(this,"$simplepicker",void 0),s(this,"$simplepickerWrapper",void 0),s(this,"$trs",void 0),s(this,"$tds",void 0),s(this,"$headerMonthAndYear",void 0),s(this,"$monthAndYear",void 0),s(this,"$date",void 0),s(this,"$day",void 0),s(this,"$time",void 0),s(this,"$timeInput",void 0),s(this,"$timeSectionIcon",void 0),s(this,"$cancel",void 0),s(this,"$ok",void 0),s(this,"$displayDateElements",void 0),s(this,"monthTracker",void 0);var r,a=void 0,o=i;if("string"==typeof e){var c=document.querySelector(e);if(null!==c)a=c;else throw Error("Invalid selector passed to SimplePicker!")}else(null!=(r=HTMLElement)&&"u">typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r)?a=e:(void 0===e?"undefined":e&&"u">typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"&&(o=e);a||(a=document.querySelector("body")),o||(o={}),this.selectedDate=new Date,this.monthTracker=n.createMonthTracker(),this.injectTemplate(a),this.init(a,o),this.initListeners(),this._eventHandlers={}}return e=[{key:"initElMethod",value:function(e){this.$=function(t){return e.querySelector(t)},this.$$=function(t){return e.querySelectorAll(t)}}},{key:"init",value:function(e,t){this.$simplepickerWrapper=e.querySelector(".simplepicker-wrapper"),this.initElMethod(this.$simplepickerWrapper);var i=this.$,r=this.$$;this.$simplepicker=i(".simplepicker-date-picker"),this.$trs=r(".simplepicker-calender tbody tr"),this.$tds=r(".simplepicker-calender tbody td"),this.$headerMonthAndYear=i(".simplepicker-month-and-year"),this.$monthAndYear=i(".simplepicker-selected-date"),this.$date=i(".simplepicker-date"),this.$day=i(".simplepicker-day-header"),this.$time=i(".simplepicker-time"),this.$timeInput=i(".simplepicker-time-section input"),this.$timeSectionIcon=i(".simplepicker-icon-time"),this.$cancel=i(".simplepicker-cancel-btn"),this.$ok=i(".simplepicker-ok-btn"),this.$displayDateElements=[this.$day,this.$headerMonthAndYear,this.$date],this.$time.classList.add("simplepicker-fade");var a=new Date;this.render(n.scrapeMonth(a,this.monthTracker)),t=t||{},this.opts=t,this.reset(t.selectedDate||a),void 0!==t.zIndex&&(this.$simplepickerWrapper.style.zIndex=t.zIndex.toString()),t.disableTimeSection&&this.disableTimeSection(),t.compactMode&&this.compactMode()}},{key:"reset",value:function(e){var t=e||new Date;this.render(n.scrapeMonth(t,this.monthTracker));var i=t.toTimeString().split(" ")[0].replace(/\:\d\d$/,"");this.$timeInput.value=i,this.$time.innerText=n.formatTimeFromInputElement(i);var r=t.getDate().toString(),a=this.findElementWithDate(r);a&&!a.classList.contains("active")&&(this.selectDateElement(a),this.updateDateComponents(t))}},{key:"compactMode",value:function(){this.$date.style.display="none"}},{key:"disableTimeSection",value:function(){this.$timeSectionIcon.style.visibility="hidden"}},{key:"enableTimeSection",value:function(){this.$timeSectionIcon.style.visibility="visible"}},{key:"injectTemplate",value:function(e){var t=document.createElement("template");t.innerHTML=r.htmlTemplate,e.appendChild(t.content.cloneNode(!0))}},{key:"clearRows",value:function(){this.$tds.forEach(function(e){e.innerHTML="",e.classList.remove("active")})}},{key:"updateDateComponents",value:function(e){var t=n.days[e.getDay()],i=n.months[e.getMonth()]+" "+e.getFullYear();this.$headerMonthAndYear.innerHTML=i,this.$monthAndYear.innerHTML=i,this.$day.innerHTML=t,this.$date.innerHTML=n.getDisplayDate(e)}},{key:"render",value:function(e){var t=this.$$,i=this.$trs,n=e.month,r=e.date;this.clearRows(),n.forEach(function(e,t){var n=i[t].children;e.forEach(function(e,t){var i=n[t];e?(i.removeAttribute("data-empty"),i.innerHTML=e):i.setAttribute("data-empty","")})});var a=t("table tbody tr:last-child td"),s=!0;a.forEach(function(e){void 0===e.dataset.empty&&(s=!1)});var o=a[0].parentElement;s&&o?o.style.display="none":o.style.display="table-row",this.updateDateComponents(r)}},{key:"updateSelectedDate",value:function(e){var t,i=this.$monthAndYear,r=this.$time;this.$date,t=e?e.innerHTML.trim():this.$date.innerHTML.replace(/[a-z]+/,"");var a=c(i.innerHTML.split(" "),2),s=a[0],o=a[1],l=n.months.indexOf(s),d=r.innerHTML.split(":"),p=+d[0],u=c(d[1].split(" "),2),h=u[0],m=u[1];"AM"===m&&12==p&&(p=0),"PM"===m&&p<12&&(p+=12);var v=new Date(+o,+l,+t,+p,+h);this.selectedDate=v;var y=t+" ";y+=i.innerHTML.trim()+" ",y+=r.innerHTML.trim(),this.readableDate=y.replace(/^\d+/,n.getDisplayDate(v))}},{key:"selectDateElement",value:function(e){var t=this.$(".simplepicker-calender tbody .active");e.classList.add("active"),t&&t.classList.remove("active"),this.updateSelectedDate(e),this.updateDateComponents(this.selectedDate)}},{key:"findElementWithDate",value:function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$tds.forEach(function(n){var r=n.innerHTML.trim();r===e&&(t=n),""!==r&&(i=n)}),void 0===t&&n&&(t=i),t}},{key:"handleIconButtonClick",value:function(e){var t,i=this.$,r="simplepicker-icon-",a=r+"calender",s=r+"time";if(e.classList.contains(a)){var o=i("."+s),c=i(".simplepicker-time-section");i(".simplepicker-calender-section").style.display="block",c.style.display="none",o.classList.remove("active"),e.classList.add("active"),this.toggleDisplayFade();return}if(e.classList.contains(s)){var l=i("."+a),d=i(".simplepicker-calender-section");i(".simplepicker-time-section").style.display="block",d.style.display="none",l.classList.remove("active"),e.classList.add("active"),this.toggleDisplayFade();return}var p=i(".simplepicker-calender td.active");if(p&&(t=p.innerHTML.trim()),e.classList.contains(r+"next")&&this.render(n.scrapeNextMonth(this.monthTracker)),e.classList.contains(r+"previous")&&this.render(n.scrapePreviousMonth(this.monthTracker)),t){var u=this.findElementWithDate(t,!0);this.selectDateElement(u)}}},{key:"initListeners",value:function(){var e=this.$simplepicker,t=this.$timeInput,i=this.$ok,r=this.$cancel,a=this.$simplepickerWrapper,s=this;function o(){s.close(),s.callEvent("close",function(e){e()})}e.addEventListener("click",function(e){var t=e.target,i=t.tagName.toLowerCase();(e.stopPropagation(),"td"===i&&void 0===t.dataset.empty)?s.selectDateElement(t):"button"===i&&t.classList.contains("simplepicker-icon")&&s.handleIconButtonClick(t)}),t.addEventListener("input",function(e){if(""!==e.target.value){var t=n.formatTimeFromInputElement(e.target.value);s.$time.innerHTML=t,s.updateSelectedDate()}}),i.addEventListener("click",function(){s.close(),s.callEvent("submit",function(e){e(s.selectedDate,s.readableDate)})}),r.addEventListener("click",o),a.addEventListener("click",o)}},{key:"callEvent",value:function(e,t){(this._eventHandlers[e]||[]).forEach(function(e){t(e)})}},{key:"open",value:function(){this.$simplepickerWrapper.classList.add("active")}},{key:"close",value:function(){this.$simplepickerWrapper.classList.remove("active")}},{key:"on",value:function(e,t){var i=this._validOnListeners,n=this._eventHandlers;if(!i.includes(e))throw Error("Not a valid event!");n[e]=n[e]||[],n[e].push(t)}},{key:"toggleDisplayFade",value:function(){this.$time.classList.toggle("simplepicker-fade"),this.$displayDateElements.forEach(function(e){e.classList.toggle("simplepicker-fade")})}}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}()},437(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"htmlTemplate",{enumerable:!0,get:function(){return i}});var i='\n<div class="simplepicker-wrapper">\n  <div class="simplepicker-date-picker">\n    <div class="simplepicker-day-header"></div>\n      <div class="simplepicker-date-section">\n        <div class="simplepicker-month-and-year"></div>\n        <div class="simplepicker-date"></div>\n        <div class="simplepicker-select-pane">\n          <button type="button" class="simplepicker-icon simplepicker-icon-calender active" title="Select date from calender!"></button>\n          <div class="simplepicker-time">12:00 PM</div>\n          <button type="button" class="simplepicker-icon simplepicker-icon-time" title="Select time"></button>\n        </div>\n      </div>\n      <div class="simplepicker-picker-section">\n        <div class="simplepicker-calender-section">\n          <div class="simplepicker-month-switcher simplepicker-select-pane">\n            <button type="button" class="simplepicker-icon simplepicker-icon-previous"></button>\n            <div class="simplepicker-selected-date"></div>\n            <button type="button" class="simplepicker-icon simplepicker-icon-next"></button>\n          </div>\n          <div class="simplepicker-calender">\n            <table>\n              <thead>\n                <tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th></tr>\n              </thead>\n              <tbody>\n                '.concat(function(e,t){for(var i="",n=1;n<=6;n++)i+=e;return i}("<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>",0),'\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div class="simplepicker-time-section">\n          <input type="time" value="12:00" autofocus="false">\n        </div>\n      </div>\n      <div class="simplepicker-bottom-part">\n        <button type="button" class="simplepicker-cancel-btn simplepicker-btn" title="Cancel">Cancel</button>\n        <button type="button" class="simplepicker-ok-btn simplepicker-btn" title="OK">OK</button>\n      </div>\n  </div>\n</div>\n')}},t={};SimplePicker=function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}(431)})();
//# sourceMappingURL=simplepicker.js.map